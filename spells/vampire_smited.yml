vampire_smited:
  inherit: vampire_base
  passive: true
  mode: hidden
  name: Smite
  triggers:
    - trigger: damage
      damage_type: physical
  actions:
    cast:
    - class: ChangeContext
      use_target_mage: false
      actions:
       - class: Message
         message: first
       - class: CheckRequirements
         requirements:
           - attributes:
               - attribute: smite
                 min: 0.1
         fail:
           - class: Stop
         actions:
          - class: ModifyVariable
            variable: smiteamount
            value: "smite+2.5"
          - class: PlayEffects
            effect: smite
          - class: Damage
          - class: Message
            message: Test $smiteamount
            message_target: false
  effects:
    smite:
    - location: target
      effectlib:
        class: Sphere
        duration: 2000
    - sound: magic.zap
  parameters:
    target: last_damager
    damage: 10